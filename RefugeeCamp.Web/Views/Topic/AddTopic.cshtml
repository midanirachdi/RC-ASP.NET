@model RefugeeCamp.Web.ViewModels.AddTopicModelView


<div class="container">
    @using (@Html.BeginForm("AddTopic", "Topic", FormMethod.Post, new{@id="form"})) {

        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Topic Title</label>
            <div class="col-sm-10">
                @Html.TextBoxFor(t => t.topic.title,new{@class="form-control"})
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Tags</label>
            <div class="col-sm-10">
               
                <div class="bootstrap-tagsinput">
               >
                    @Html.TextBoxFor(t => t.tagString, new
                    {
                        @id = "khr-tag",
                        data_role = "tagsinput",
                        @placeholder = "add tags"

                    })
                </div>
 
            </div>
        </div>

    @Html.HiddenFor(t=>t.topic.body,new {@id="khr-body"})

        <div class="container">  

    <div class="summernote"><h1>Add new Topic</h1></div>
        
    </div>
      

    }
    

    <div class="container row">
        <div class="col-sm-3">
            <button id="edit" onclick="edit()" type="button">Edit</button>
            <button id="save" onclick="save()" type="button">Preview</button>
            <button type="submit" form="form" value="Submit">Save</button>
        </div>
     
          
    </div>
    </div>   
    
<
@section Scripts {
    <script>
   
            /**
            * declarations
            */

            var $bodyInput = $("#khr-body");
            var $editBtn = $("#edit");
            var $saveBtn = $("#save");

            (function() {
                $('.summernote').summernote({
                    minHeight: 500,
                    maxHeight:500
            }); }
             )();

            
            var edit = function() {
                $('.summernote').summernote({
                    minHeight: 500,
                    maxHeight:500
                });
            };

            var save = function() {
                var markup = $('.summernote').summernote('code');
                $bodyInput.val(markup);
                $('.summernote').summernote('destroy');
            
            };
  
            
            $('#form').submit(function() {
                var markup = $('.summernote').summernote('code');
                $bodyInput.val(markup);
                return true; // return false to cancel form action
            });


    


    </script>
    }