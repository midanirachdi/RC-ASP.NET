@using RefugeeCamp.Domain.Models
@using RefugeeCamp.Web.Security
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refugees camp management website</title>

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    

</head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            @Html.ActionLink("Refugees camp", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
        </div>
        @if(SessionPersister.User != null){ 
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
            @if (@SessionPersister.User.GetType() == typeof(Admin))
            {
                <li>@Html.ActionLink("Tasks", "Index", "Task")</li>

            }
            else
            {
                <li>@Html.ActionLink("Tasks", "IndexUser", "Task")</li>
            }

            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="@Url.Action("Logout","Account")"><span class="glyphicon glyphicon-log-out"></span>Logout</a></li>
               
            </ul>
        </div>  
        }
        @Html.Partial("_LoginPartial")
        </div>
    </div>

    <div class="container body-content">
        @RenderBody()
        
        <div class="notificationBalloon" id="container" style="float:right">             </div>
        <hr />
        <footer>
            <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
        </footer>
    </div>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryui")
    @Scripts.Render("~/bundles/jquerySignalR")
<script src="/signalr/hubs"></script>    
    @Scripts.Render("~/bundles/bootstrap")

    <script type="text/javascript">
        $(function() {
            var proxy = $.connection.notificationHub;
            proxy.client.receiveNotification = function(message) {
                $.notify(
                    message,
                    {    
                        autoHideDelay: 5000,
                        position: "top right",
                        className: "info"
                    }
                );
            };
            $.connection.hub.start();
        });
    </script>



@RenderSection("scripts", required: false)


</body>
</html>
